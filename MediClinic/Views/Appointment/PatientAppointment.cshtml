@model MediClinic.Models.AppointmentViewModel
@using MediClinic.Services.Interfaces.SessionManager
@using MedliClinic.Utilities.Utility
@inject ISessionManager _sessionManager
@{
    ViewData["Title"] = "Appointment";
    Layout = "~/Views/Shared/_PatientLayout/_PatientLayout.cshtml";
    Layout = "~/Views/Shared/_LayoutElite.cshtml";

    var patientInfoId = _sessionManager.GetPatientInfoId();
    var patientName = _sessionManager.GetPatientName();
    var roleId = _sessionManager.GetRoleId();
    var currUserId = _sessionManager.GetUserId();

}
@section styles{
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/css/select2.min.css" />
    <link href="~/app-assets/base/jquery-ui.css" rel="stylesheet" />
    @*<link href="~/HunterTimePicker/css/timePicker.css" rel="stylesheet" />*@
    <link href="~/css/timePicker.css" rel="stylesheet" />
    <style>
        #loading {
            width: 100%;
            height: 100%;
            top: 120px;
            position: absolute;
            display: block;
            opacity: 1;
            background-color: #fff;
            z-index: 99;
            text-align: center;
        }

        #loading-image {
            position: absolute;
            top: 100px;
            left: 240px;
            z-index: 100;
        }

        #loading > div {
            margin-top:25%;
            width: 18px;
            height: 18px;
            background-color: #333;
            border-radius: 100%;
            display: inline-block;
            -webkit-animation: sk-bouncedelay 1.4s infinite ease-in-out both;
            animation: sk-bouncedelay 1.4s infinite ease-in-out both;
        }

        #loading .bounce1 {
            -webkit-animation-delay: -0.32s;
            animation-delay: -0.32s;
        }

        #loading .bounce2 {
            -webkit-animation-delay: -0.16s;
            animation-delay: -0.16s;
        }

        @@-webkit-keyframes sk-bouncedelay {
            0%, 80%, 100% {
                -webkit-transform: scale(0)
            }

            40% {
                -webkit-transform: scale(1.0)
            }
        }

        @@keyframes sk-bouncedelay {
            0%, 80%, 100% {
                -webkit-transform: scale(0);
                transform: scale(0);
            }

            40% {
                -webkit-transform: scale(1.0);
                transform: scale(1.0);
            }
        }

        .Hunter-clean-btn {
            display: none;
        }

        .jc-bs3-row.row.justify-content-md-center.justify-content-sm-center.justify-content-xs-center.justify-content-lg-center {
            width: 25%;
        }

        .select2-search--dropdown .select2-search__field {
            height: 2rem !important;
        }

        .select2-container .select2-selection--single {
            height: 49px !important;
        }

        .select2-container--default .select2-selection--single .select2-selection__rendered {
            line-height: 44px !important
        }

        .select2-container--default .select2-selection--single .select2-selection__arrow {
            height: 44px;
        }

        .select-wrapper input.select-dropdown {
            display: none !important;
        }

        .select2 {
            width: 100% !important;
        }

        .modal {
            background-color: #fff !important
        }

        #AppointmentModal {
            width: 65% !important;
            background-color: #fff !important;
            max-height: 80% !important;
        }


            #AppointmentModal .tabs .tab a {
                border: 1px solid #6b6f82 !important
            }

        ul.ui-autocomplete {
            z-index: 999999 !important;
        }

        .display_modal {
            width: 45% !important;
        }

        .modal h6 span {
            color: #6b6f82 !important
        }

        #slide-out-right {
            overflow: auto !important
        }

        .abc {
            width: 88% !important;
            border-top-right-radius: 0px !important;
            border-bottom-right-radius: 0px !important
        }

        .current .custom-combobox {
            width: 94% !important
        }

        .custom-combobox {
            width: 93% !important
        }

        .sidenav a {
            height: auto !important
        }

        .custom-combobox {
            position: relative;
            display: inline-block;
        }

        .custom-combobox-toggle {
            position: absolute;
            top: 0;
            bottom: 0;
            margin-left: -1px;
            padding: 0;
        }

        .form-add-btn {
            float: right !important
        }

        .custom-combobox-input {
            margin: 0;
            padding: 5px 10px;
        }

        .ui-widget .select-wrapper .select-dropdown, .select-wrapper .caret {
            display: none
        }

        table.table-option tbody tr td ul.dropdown-content {
            height: auto !important
        }

        .clockpicker-button {
            line-height: 0px;
        }

        .addNewFieldInBetweenAppointment {
            margin-bottom: 30% !important;
        }

        #breadcrumbs-wrapper {
            background: unset !important;
        }

            #breadcrumbs-wrapper.breadcrumbs-bg-image .breadcrumbs-title {
                color: #6666ef;
            }

        span.avatar-status.avatar-50 > i, span.secondary-content.medium-small {
            display: none;
        }

        .margin-top-5 {
            margin-top: 5px;
        }

        span.avatar-status.avatar-50 {
            padding-right: 10px;
        }


        .fc-toolbar .fc-center h2 {
            font-size: 3rem !important;
        }

        .btn i {
            font-size: 1rem;
        }

        .search-box {
            width: 78% !important;
            height: 24px !important;
            padding: 8px 15px 8px 34px !important;
            /*margin-left: 19px !important;*/
        }

        .set_btnpro {
            padding: 0 1rem !important;
            margin-right: 5% !important;
        }

        .set_names {
            /*padding:10px;*/
            /*overflow-y: scroll !important;*/
            color: black;
            overflow-x: hidden;
            height: 204px;
            margin-top: 8px;
        }

            .set_names p {
                color: black !important;
            }

        .card2 {
            height: 220px !important;
        }

        .set_listheading {
            font-size: 1.45rem !important;
            padding-left: 7px !important;
        }

        .set_select .input-field .select-wrapper input.select-dropdown {
            border: 1px solid #3248d1 !important;
            border-radius: 40px !important;
            height: 2rem !important;
            margin: 8px 0 0px 0 !important;
            color: #3248d1 !important;
            text-align-last: center !important;
            font-size: 12px;
        }




        .dot {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
        }

        .dot-squre {
            height: 13px;
            width: 13px;
            border-radius: 50%;
            display: inline-block;
        }

        .set_r span::after {
            height: 10px;
            width: 10px;
            border-radius: 50%;
            display: inline-block;
        }


        .select-dropdown li img {
            float: left;
            width: 20px !important;
            height: 20px !important;
            margin: 17px 15px !important;
        }

        .select-wrapper .caret {
            fill: #6b6f82 !important;
        }

        .fc-monthViewButton-button {
            margin-left: 10px !important;
        }


        @@media only screen and (min-width: 601px) {
            .datepicker-controls, .datepicker-table, .datepicker-footer {
                width: 226px !important;
            }

            .datepicker-day-button {
                line-height: 22px !important;
            }
        }

        .datepicker-table th {
            padding: 0 5px !important;
        }

        .datepicker-modal {
            width: auto !important;
        }

        .datepicker-date-display {
            padding: 10px 10px !important;
        }

            .datepicker-date-display .date-text {
                font-size: 1rem !important;
                line-height: 25px !important;
            }

        .timepicker-modal {
            width: auto !important;
            overflow-y: unset;
        }

        .timepicker-text-container {
            font-size: 1.5rem !important;
            position: unset !important;
        }

        .timepicker-digital-display {
            padding: 5px !important;
        }

        .timepicker-display-am-pm {
            font-size: 1rem !important;
            margin-top: 0.2rem !important;
        }

        .d-inline-flex {
            display: inline-flex
        }

        .checkmark {
            width: 110px;
            height: 110px;
            border-radius: 50%;
            display: block;
            stroke-width: 4;
            stroke: #4bb71b;
            stroke-miterlimit: 10;
            box-shadow: inset 0px 0px 0px #4bb71b;
            animation: fill .4s ease-in-out .4s forwards, scale .3s ease-in-out .9s both;
            position: fixed;
            top: 12%;
            right: 2%;
            float: right;
            z-index: 9999;
        }

        .checkmark__circle {
            stroke-dasharray: 166;
            stroke-dashoffset: 166;
            stroke-width: 4;
            stroke-miterlimit: 10;
            stroke: #4bb71b;
            fill: #fff;
            animation: stroke 0.6s cubic-bezier(0.65, 0, 0.45, 1) forwards;
        }

        .checkmark__check {
            transform-origin: 50% 50%;
            stroke-dasharray: 48;
            stroke-dashoffset: 48;
            animation: stroke 0.3s cubic-bezier(0.65, 0, 0.45, 1) 0.8s forwards;
        }

        @@keyframes stroke {
            100% {
                stroke-dashoffset: 0;
            }
        }

        @@keyframes scale {
            0%, 100% {
                transform: none;
            }

            50% {
                transform: scale3d(1.1, 1.1, 1);
            }
        }

        @@keyframes fill {
            100% {
                box-shadow: inset 0px 0px 0px 30px #4bb71b;
            }
        }
    </style>
}
@section scripts{
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-confirm/3.3.0/jquery-confirm.min.js"></script>

    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/app-assets/js/jquery.form.js"></script>
    <script src="~/app-assets/base/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.1.0-beta.1/js/select2.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/3.1.3/signalr.min.js"></script>
    <script src="~/lib/microsoft/signalr/notify.js"></script>
    <script src="~/HunterTimePicker/js/jquery-timepicker.js"></script>

    <script>

        $(".time-picker").hunterTimePicker();

        $(function () {
            var dateFormat = "mm/dd/yy",
                from = $(".sDate")
                    .datepicker({
                        defaultDate: "+1w",
                        changeMonth: true,
                        numberOfMonths: 1,
                        minDate:0
                    })
                    .on("change", function () {
                        to.datepicker("option", "minDate", getDate(this));
                    }),
                to = $(".eDate").datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1
                })
                    .on("change", function () {
                        from.datepicker("option", "maxDate", getDate(this));
                    });

            function getDate(element) {
                var date;
                try {
                    date = $.datepicker.parseDate(dateFormat, element.value);
                } catch (error) {
                    date = null;
                }

                return date;
            }
        });
        $(function () {
            var dateFormat = "mm/dd/yy",
                from = $("#inBtwSDate")
                    .datepicker({
                        defaultDate: "+1w",
                        changeMonth: true,
                        numberOfMonths: 1,
                        minDate:0
                    })
                    .on("change", function () {
                        to.datepicker("option", "minDate", getDate(this));
                    }),
                to = $("#inBtwEDate").datepicker({
                    defaultDate: "+1w",
                    changeMonth: true,
                    numberOfMonths: 1
                })
                    .on("change", function () {
                        from.datepicker("option", "maxDate", getDate(this));
                    });

            function getDate(element) {
                var date;
                try {
                    date = $.datepicker.parseDate(dateFormat, element.value);
                } catch (error) {
                    date = null;
                }

                return date;
            }
        });

        var eventDate;
        $('#provider_name').select2({

            selectOnClose: false,
            placeholder: "Select a Provider Name"
        })
        $('.docName').select2({
            selectOnClose: false,
            placeholder: "Search By Doctor Name"
        });
        $('.select2').select2({
            selectOnClose: false,
            placeholder: "Select a Provider Name"
        });
        $('.Modelselect2').select2({
            //dropdownParent: $("#AppointmentModal"),
            selectOnClose: false,
            placeholder: "Select a Provider Name"

        });

        $('.datepicker2').datepicker({
            changeMonth: true,
            changeYear: true,
            yearRange: "c-100:c+10",
            showButtonPanel: true,
            dateFormat: "mm/dd/yy",
            minDate: 0
        });
        $('.datepicker').datepicker({
            changeMonth: true,
            changeYear: true,
            yearRange: "c-100:c+10",
            showButtonPanel: true,
            dateFormat: "mm/dd/yy",
            minDate: 0
        });
        var events = [];
        var dropEvent = [];
        var appId = 0;
        var recursive_No;

        var check_Btn = false;
        var calendar = $('#Doc-calendar').fullCalendar({
            loading: function (bool) {
                $('#loading').show(); // Add your script to show loading
            },
            eventAfterAllRender: function (view) {
                $('#loading').hide(); // remove your loading
            },
            dayClick: function (date, allDay, jsEvent, view) {
                debugger
                var Today = date._d.toLocaleDateString();
                var today = new Date();
                var end = new Date();
                var YesTerDay = end.setDate(today.getDate() - 1);
                //var moment2 = $('#Doc-calendar').fullCalendar('getDate',-1);
                if (date < YesTerDay) {
                    new PNotify({
                        title: 'Error!',
                        text: "Can't booked slot for past Date!",
                        delay: 1500,
                        type: 'error',
                        addclass: 'pnotify-center'
                    });
                    return false;

                }
                if (allDay) {
                    $("#AppointmentModal").modal('open');

                    $('.app_empty').val("");
                    $('.Bulkapp_empty').val("");
                    $('.Bulkapp_empty').removeClass('valid');
                    $('.app_empty').removeClass('valid');
                    $("#exact_checkbox").prop('checked', false);
                    $("#Btw_checkbox").prop('checked', false);
                    $("#Bulkexact_checkbox").prop('checked', false);
                    $("#BulkBtw_checkbox").prop('checked', false);
                    $(".cancel_btn").show();
                    $(".Bulkcancel_btn").show();
                    $("#EaxctAppointHide").hide();
                    $("#BulkEaxctAppointHide").hide();
                    $("#InBetweenAppointment").hide();
                    $("#BulkInBetweenAppointment").hide();
                    $("#Exactprovider_name").val('').trigger('change');
                    var check = $("#ERecCheck");
                    if (check.is(':checked')) {
                        $("#ERecCheck").trigger('click');
                    }
                    else {

                    }
                    var check = $("#BRecCheck");
                    if (check.is(':checked')) {
                        $("#BRecCheck").trigger('click');
                    }
                    else {

                    }

                    $("#AppointmentModal #recSDate").val(Today);
                }
            },

            viewRender: function (views, element) {
                var view = $('#Doc-calendar').fullCalendar('getView');
                if (view.type == 'listMonth') {
                    $.each(element.find('.fc-widget-header'), function () {
                        $(this).attr('colspan', 4);

                    });
                }
            },
            customButtons: {
                monthViewButton: {
                    text: 'Month View',
                    click: function () {
                        $('#Doc-calendar').fullCalendar('changeView', 'month');
                    }

                }, calMonth: {

                    click: function () {
                        $(".fc-month-button").trigger('click');
                    }
                },
                monthListViewButton: {
                    text: 'List View',
                    click: function () {
                        $('#Doc-calendar').fullCalendar('changeView', 'listMonth');
                    }

                }
            },
            renderEvent: function () {
                $('.fc-list-item-time').htlm("<i class='material-icons'>menu</i>");
            },
            header: {
                left: 'agendaDay , agendaWeek,  month, today',
                center: 'prev, title , next',
                right: 'calMonth,listMonth',
            },
            editable: true,
            eventDrop: function (event, delta, revertFunc) {
                debugger;
                var day = event.start.clone();
                var moment2 = $('#Doc-calendar').fullCalendar('getDate');

                if (day < moment2) {
                    new PNotify({
                        title: 'Error!',
                        text: "Can't booked slot for past Date!",
                        delay: 1500,
                        type: 'error',
                        addclass: 'pnotify-center'
                    });
                    var DocFilter = $('#seleciona option:selected').val();

                    if (DocFilter == "") {
                        $('#Doc-calendar').fullCalendar('removeEvents');
                        $('#Doc-calendar').fullCalendar('refetchEvents');
                    }
                    else {
                        $('#Doc-calendar').fullCalendar('removeEvents');
                        LoadAppointmentData(DocFilter);
                    }
                    return false;
                }

                var Date;
                eventDate = event.start.format();
                var Date = eventDate.split("T");
                var recursive;
                if (event.recursionNo == "") {
                    recursive = '';
                }
                else {
                    recursive = event.recursionNo;
                }
                if (event.Name == "Exact") {
                    Data = {
                        "patientAppointmentBasicDto.AppointmentType": event.Name,
                        "patientAppointmentBasicDto.AppointmentId": event.appointId,
                        "patientAppointmentBasicDto.PatientInfoId": event.patientId,
                        "patientAppointmentBasicDto.ExactTime": event.ExactTime,
                        "patientAppointmentBasicDto.Date": Date[0],
                        "patientAppointmentBasicDto.ProviderInfoId": event.providerId,
                        "patientAppointmentBasicDto.RecursionNo": recursive
                    }
                }
                else {
                    Data = {
                        "patientAppointmentBasicDto.AppointmentType": event.Name,
                        "patientAppointmentBasicDto.AppointmentId": event.appointId,
                        "patientAppointmentBasicDto.PatientInfoId": event.patientId,
                        "patientAppointmentBasicDto.StartTime": event.bSTime,
                        "patientAppointmentBasicDto.EndTime": event.bETime,
                        "patientAppointmentBasicDto.Date": Date[0],
                        "patientAppointmentBasicDto.ProviderInfoId": event.providerId,
                        "patientAppointmentBasicDto.RecursionNo": recursive

                    }
                }
                $.confirm({
                    title: 'Confirm!',
                    content: 'Do you want to change date of this appointment?',
                    buttons: {
                        confirm: function () {
                            DragSaveEvent(Data);
                        },
                        cancel: function () {
                            debugger;
                            var DocFilter = $('#seleciona option:selected').val();

                            if (DocFilter == "") {
                                $('#Doc-calendar').fullCalendar('removeEvents');
                                $('#Doc-calendar').fullCalendar('refetchEvents');
                            }
                            else {
                                $('#Doc-calendar').fullCalendar('removeEvents');
                                LoadAppointmentData(DocFilter);
                            }
                        }
                    }
                });

            },


            timeFormat: 'h:mm',
            events: function (start, end, timezone, callback)
            {
                $.ajax({
                type: "GET",
                url: '@Url.Action("GetCalendarsList", "Appointment", new {Id= patientInfoId })',

                success: function (result)
                {
                    debugger;
                    events = [];

                    $.each(result, function (i, v) {
                        var Date = v.date.split('T');
                        var recursive;
                        if (v.recursionNo == "") {
                            recursive = '';
                        }
                        else {
                            recursive = v.recursionNo;
                        }
                        debugger;
                        var TypeName = v.appointmentType;
                        var DocPatName = "-Dr. " + v.docFirstName + " - " + v.patFirstName;
                        var provideName = "Dr. " + v.docFullName

                        if (TypeName == "Exact") {
                            var Exist = v.exactTime.split('T');
                            events.push({

                                Name: v.appointmentType,
                                //description: v.Description,
                                title: DocPatName,
                                start: Date[0] + "T" + Exist[1],
                                appointId: v.appointmentId,
                                providerName: provideName,
                                patientId : v.patientInfoId,
                                providerId: v.providerInfoId,
                                ExactTime: Exist[1],
                                recursionNo: recursive
                                //startStr: v.startTime,
                                //endStr: v.endTime,
                                //exactTime: v.exactTime
                            });
                        }

                        else{
                            var Time = v.startTime.split('T');
                            var EndTime = v.endTime.split('T');

                            events.push({
                                Name: v.appointmentType,
                                //description: v.Description,
                                title: DocPatName,
                                start: Date[0] + "T" + Time[1],
                                endTime: Date[0] + "T" + EndTime[1],
                                appointId: v.appointmentId,
                                providerName: provideName,
                                patientId: v.patientInfoId,
                                providerId: v.providerInfoId,
                                bSTime: Time[1],
                                bETime: EndTime[1],
                                recursionNo: recursive
                            });
                        }

                    })
                    callback(events);
                }
            });
        },
            eventLimit: true,
            eventClick: function (events) {

                debugger;
                if (events.Name == "Exact") {
                    var ExactTimeDate = events.start._i.split('T');
                    $("#modal1").modal('open');
                    $("#modal1 .modal-content  .modal-title").text(events.Name);
                    $("#modal1 .modal-content  #start_date").text(moment(events.start).format('DD/MM/YYYY'));
                    $("#modal1 .modal-content  #Exact_Time").text(moment(ExactTimeDate[1], "H(:mm)").format("HH:mm"));
                    $("#modal1 .modal-content  #provider").text(events.providerName);
                    appId = events.appointId;
                    recursive_No = events.recursionNo;
                    //$("#appointId").val(appointmentId);

                }
                else {
                    var StartTimeDate = events.start._i.split('T');
                    var EndTime = events.endTime.split('T');
                    $("#modal2").modal('open');
                    $("#modal2 .modal-content  .modal-title").text(events.Name);
                    $("#modal2 .modal-content  #start_date2").text(moment(events.start).format('DD/MM/YYYY'));
                    $("#modal2 .modal-content  #start_time2").text(moment(StartTimeDate[1], "H(:mm)").format("HH:mm"));
                    $("#modal2 .modal-content  #end_time2").text(moment(EndTime[1], "H(:mm)").format("HH:mm"));
                    $("#modal2 .modal-content  #provider_2").text(events.providerName);
                    appId = events.appointId;
                    recursive_No = events.recursionNo;
                    //$("#appointId").val(appointmentId);

                }

                //$("#modal1 .modal-content  .modal-title").text(event.title);


                //$("#modal1 .modal-content  #Exact_Time").text(moment(event.end).format('DD/MM/YYYY'));
                //$("#modal1 .modal-content  #end_time").text(moment(event.end).format('HH:mm'));

            },
            eventMouseover: function (events, jsEvent) {
                var StartTimeDate = events.start._i.split('T');
                if (events.Name == "Exact") {
                    var tooltip = '<div class="tooltipevent" style="width:250px;height:auto;background:#fff;position:absolute;z-index:10001;padding:15px;box-shadow:1px 1px 12px 1px #e2e2e2 !important"> <span style="color:#333">Your Appointment Schedule With ' + events.providerName + ' at ' + moment(StartTimeDate[1], "H(:mm)").format("HH:mm") + ' Time. </span></div>'; var $tool = $(tooltip).appendTo('body');
                    $(this).mouseover(function (e) {
                        $(this).css('z-index', 10000);
                        $tool.fadeIn('500');
                        $tool.fadeTo('10', 1.9);
                    }).mousemove(function (e) {
                        $tool.css('top', e.pageY + 10);
                        $tool.css('left', e.pageX + 20);
                    });

                }
                else {
                    var EndTime = events.endTime.split('T');

                    var tooltip = '<div class="tooltipevent" style="width:250px;height:auto;background:#fff;position:absolute;z-index:10001;padding:15px;box-shadow:1px 1px 12px 1px #e2e2e2 !important"> <span style="color:#333">Your Appointment Schedule With ' + events.providerName + ' is Between ' + moment(StartTimeDate[1], "H(:mm)").format("HH:mm") + ' To ' + moment(EndTime[1], "H(:mm)").format("HH:mm") +' Time. </span></div>'; var $tool = $(tooltip).appendTo('body');
                    $(this).mouseover(function (e) {
                        $(this).css('z-index', 10000);
                        $tool.fadeIn('500');
                        $tool.fadeTo('10', 1.9);
                    }).mousemove(function (e) {
                        $tool.css('top', e.pageY + 10);
                        $tool.css('left', e.pageX + 20);
                    });
                }


            },
            eventMouseout: function (events, jsEvent) {
                $(this).css('z-index', 8);
                $('.tooltipevent').remove();
            },

        });

        function DragSaveEvent(Data) {
            debugger;
            $.ajax({
                type: "POST",
                url: '@Url.Action("PatientAppointment", "Appointment", new {Id= patientInfoId })',
                data: Data,
                success: function (data) {
                    debugger;
                    onExactSuccess(data);
                    if (data.status) {
                        calendar.render();
                    }
                },
                error: function () {
                    alert('Failed');
                }
            })
        }
        function switchView() {
            if ($('#button').html() == "Switch to list View") {
                $('#calendar-hide').hide();
                $('#list-hide').show();
                $('#button').html("Switch to Calander View");
            }
            else {
                $('#calendar-hide').show();
                $('#list-hide').hide();
                $('#button').html("Switch to list View");
            }

        }

            function deleteappointment(appointId, event) {


                $.get("/Appointment/DeleteAppointments", { Id: appointId }).done(function (data) {
                    if (data) {
                        event.closest('tr').remove();

                        $(".checkmark").show().fadeOut(6000);

                        $('#Doc-calendar').fullCalendar('refetchEvents');
                    }
                    else {
                        new PNotify({
                            title: 'Error!',
                            text: 'Something went wron',
                            delay: 2500,
                            type: 'error',
                            addclass: 'pnotify-center'
                        });
                    }


                });
        }
        function Editappointment(appointId) {
            $.ajax({
                type: "GET",
                url: '@Url.Action("AppointmentGetById", "Appointment")',
                data: { appointId: appointId },

                success: function (data) {

                    $('#AppointmentUpdateModal').modal('open');
                    $("#AppointmentUpdateModal #exist-appoint").hide();
                    $("#AppointmentUpdateModal #frame-appoint").hide();
                    $("#AppointmentUpdateModal #recurring").hide();
                    debugger;
                    if (data.appointmentType == "Exact") {
                        $("#AppointmentUpdateModal #exist-appoint").show();
                        $("#AppointmentUpdateModal #frame-appoint").hide();
                        $("#AppointmentUpdateModal #recurring").hide();

                        $("#AppointmentUpdateModal #appointmentType").val(data.appointmentType);

                        $("#AppointmentUpdateModal #appointment_Id").val(data.appointmentId);
                        $("#AppointmentUpdateModal #patientInfo_Id").val(data.patientInfoId);
                        $("#AppointmentUpdateModal #exactTime1").val(moment(data.exactTime).format('hh:mm'));
                        $("#AppointmentUpdateModal #exactDate1").val(moment(data.date).format('MM/DD/YYYY'));
                        $('#exactProvider .custom-combobox-input').text(data.providerInfoId);

                    }
                    else if (data.appointmentType == "In Between") {

                        $("#AppointmentUpdateModal #exist-appoint").hide();
                        $("#AppointmentUpdateModal #recurring").hide();

                        $("#AppointmentUpdateModal #frame-appoint").show();
                        $("#AppointmentUpdateModal #appointmentType2").val(data.appointmentType);
                        $("#AppointmentUpdateModal #appointment_Id2").val(data.appointmentId);
                        $("#AppointmentUpdateModal #patientInfo_Id2").val(data.patientInfoId);
                        $("#AppointmentUpdateModal #btwDate1").val(moment(data.date).format('MM/DD/YYYY'));
                        $("#AppointmentUpdateModal #btwSTime1").val(moment(data.startTime).format('hh:mm A'));
                        $("#AppointmentUpdateModal #btwETime1").val(moment(data.endTime).format('hh:mm A'));
                        //$(".combobox").combobox({
                        //    select: function (event, ui) {
                        //        alert(ui.data.providerInfo);
                        //    }
                        //});
                    }
                    else {
                        $("#AppointmentUpdateModal #exist-appoint").hide();
                        $("#AppointmentUpdateModal #frame-appoint").hide();
                        $("#AppointmentUpdateModal #recurring").show();

                        $("#AppointmentUpdateModal #appointment_Id3").val(data.appointmentId);
                        $("#AppointmentUpdateModal #patientInfo_Id3").val(data.patientInfoId);
                        $("#AppointmentUpdateModal #appointmentType3").val(data.appointmentType);

                        $("#AppointmentUpdateModal #recSDate1").val(moment(data.date).format('MM/DD/YYYY'));
                        $("#AppointmentUpdateModal #recEDate1").val(moment(data.endDate).format('MM/DD/YYYY'));
                        $("#AppointmentUpdateModal #recSTime1").val(moment(data.startTime).format('hh:mm A'));
                        $("#AppointmentUpdateModal #recETime1").val(moment(data.endTime).format('hh:mm A'));
                    }
                },
                error: function (result) {
                    alert("Error");
                }
            });
        }
        function deleteappointmentFromModel(appId) {
            debugger;
            var DocFilter = $('#seleciona option:selected').val();
            if (recursive_No == null) {
                $.confirm({
                    title: 'Confirm!',
                    content: 'Do you want to delete this appointment?',
                    buttons: {
                        confirm: function () {
                            $.get("/Appointment/DeleteAppointments", { Id: appId }).done(function (data) {
                                debugger;
                                if (data) {
                                    if (DocFilter == "") {
                                        $(".checkmark").show().fadeOut(6000);
                                        $('.full-calendar').fullCalendar('removeEvents');
                                        $('#Doc-calendar').fullCalendar('refetchEvents');
                                        event.closest('tr').remove();

                                    }
                                    else {
                                        $(".checkmark").show().fadeOut(6000);
                                        $('.full-calendar').fullCalendar('removeEvents');
                                        LoadAppointmentData(DocFilter);
                                        event.closest('tr').remove();
                                    }
                                }
                                else {
                                    new PNotify({
                                        title: 'Error!',
                                        text: 'Something went wron',
                                        delay: 2500,
                                        type: 'error',
                                        addclass: 'pnotify-center'
                                    });
                                }


                            });
                        },
                        cancel: function () {

                        }
                    }
                });
            }
            else {
                $.confirm({

                    title: 'Confirm!',
                    content: 'Do you want to delete all associated events or just this one?',
                    buttons: {
                        All: function () {
                            $.confirm({
                                title: 'Confirm!',
                                content: 'Do you want to delete associated all events?',

                                buttons: {
                                    confirm: function () {
                                        $.get("/Appointment/DeleteRecuringAppointment", { Id: recursive_No }).done(function (data) {
                                            debugger;
                                            if (data) {
                                                if (DocFilter == "") {
                                                    $(".checkmark").show().fadeOut(6000);
                                                    $('.full-calendar').fullCalendar('removeEvents');
                                                    $('#Doc-calendar').fullCalendar('refetchEvents');
                                                    event.closest('tr').remove();

                                                }
                                                else {
                                                    $(".checkmark").show().fadeOut(6000);
                                                    $('.full-calendar').fullCalendar('removeEvents');
                                                    LoadAppointmentData(DocFilter);
                                                    event.closest('tr').remove();
                                                }
                                            }
                                            else {
                                                new PNotify({
                                                    title: 'Error!',
                                                    text: 'Something went wron',
                                                    delay: 2500,
                                                    type: 'error',
                                                    addclass: 'pnotify-center'
                                                });
                                            }


                                        });
                                    },


                                    cancel: function () {
                                        $.alert('Canceled!');
                                    }
                                }
                            });

                        },

                        Single: function(){
                            $.confirm({
                                title: 'Confirm!',
                                content: 'Do you want to delete this appointment?',

                                buttons: {
                                    confirm: function () {
                                        $.get("/Appointment/DeleteAppointments", { Id: appId }).done(function (data) {
                                            debugger;
                                            if (data) {
                                                if (DocFilter == "") {
                                                    $(".checkmark").show().fadeOut(6000);
                                                    $('.full-calendar').fullCalendar('removeEvents');
                                                    $('#Doc-calendar').fullCalendar('refetchEvents');
                                                    event.closest('tr').remove();

                                                }
                                                else {
                                                    $(".checkmark").show().fadeOut(6000);
                                                    $('.full-calendar').fullCalendar('removeEvents');
                                                    LoadAppointmentData(DocFilter);
                                                    event.closest('tr').remove();
                                                }
                                            }
                                            else {
                                                new PNotify({
                                                    title: 'Error!',
                                                    text: 'Something went wron',
                                                    delay: 2500,
                                                    type: 'error',
                                                    addclass: 'pnotify-center'
                                                });
                                            }


                                        });
                                    },


                                    cancel: function () {
                                    }
                                }
                            });

                        },
                        cancel: function () {
                        }
                    }
                });
            }

            }
        function editOrUpdateAppointment(appId) {
            debugger;
            var DocFilter = $('#seleciona option:selected').val();
            debugger;
                $.ajax({

                            type: "GET",
                             url: '@Url.Action("AppointmentGetById", "Appointment")',
                    data: { appointId: appId },

                    success: function (data) {
                        $("#AppointmentUpdateModal #exist-appoint1").hide();
                        $("#AppointmentUpdateModal #frame-appoint1").hide();
                        $("#AppointmentUpdateModal #recurring1").hide();
                        debugger;
                        if (data.appointmentType == "Exact") {
                            $("#AppointmentUpdateModal #exist-appoint1").show();
                            $("#AppointmentUpdateModal #frame-appoint1").hide();
                            $("#AppointmentUpdateModal #recurring1").hide();

                            $("#AppointmentUpdateModal #appointmentType1").val(data.appointmentType);

                            $("#AppointmentUpdateModal #appointment_Id").val(data.appointmentId);
                            $("#AppointmentUpdateModal #patientInfo_Id").val(data.patientInfoId);
                            $("#AppointmentUpdateModal #exactTime1").val(moment(data.exactTime,).format('HH:mm'));
                            $("#AppointmentUpdateModal #exactDate1").val(moment(data.date).format('MM/DD/YYYY'));
                            $("#AppointmentUpdateModal #recursion_no").val(recursive_No);
                            $('#provider_name').val(data.providerInfoId);
                            $('#provider_name').trigger('change');

                        }
                        else{

                            $("#AppointmentUpdateModal #exist-appoint1").hide();
                            $("#AppointmentUpdateModal #recurring1").hide();

                            $("#AppointmentUpdateModal #frame-appoint1").show();
                            $("#AppointmentUpdateModal #appointmentType2").val(data.appointmentType);
                            $("#AppointmentUpdateModal #appointment_Id2").val(data.appointmentId);
                            $("#AppointmentUpdateModal #patientInfo_Id2").val(data.patientInfoId);
                            $("#AppointmentUpdateModal #btwDate1").val(moment(data.date).format('MM/DD/YYYY'));
                            $("#AppointmentUpdateModal #btwSTime1").val(moment(data.startTime).format('HH:mm'));
                            $("#AppointmentUpdateModal #btwETime1").val(moment(data.endTime).format('HH:mm'));
                            $("#AppointmentUpdateModal #recursion_no2").val(recursive_No);

                            $('#btnProvider').val(data.providerInfoId);
                            $('#btnProvider').trigger('change');
                        }
                            },
                            error: function (result) {
                             alert("Error");
                       }
                });
            }
            $('.DeleteappointBtn').click(function () {

                deleteappointmentFromModel(appId);
                $('.modal').modal('close');
            });
            $('.EditAppointment').click(function () {
                editOrUpdateAppointment(appId);
                $('#AppointmentUpdateModal').modal('open');
            });
        /*For Update*/
        $(document).on('submit', '#exist-appoint1', function (e) {
            debugger;

            e.preventDefault();

            if ($(this).valid()) {
                $(this).ajaxSubmit({
                    success: function (response) {
                        debugger;
                        StartConnection(parseInt(response.userId));
                        ReSendNotification(parseInt(response.userId), response.firstName, response.lastName);
                    },
                    error: function (response) {

                    },
                    complete: function (xhr) {
                        onExactSuccess(xhr.responseJSON);

                    }
                });


            }
        });
        $(document).on('submit', '#frame-appoint1', function (e) {
            debugger;

            e.preventDefault();

            if ($(this).valid()) {
                $(this).ajaxSubmit({
                    success: function (response) {
                        debugger;
                        StartConnection(parseInt(response.userId));
                        ReSendNotification(parseInt(response.userId), response.firstName, response.lastName);

                    },
                    error: function (response) {

                    },
                    complete: function (xhr) {
                        onExactSuccess(xhr.responseJSON);

                    }
                });

            }
        });
        $(document).on('submit', '#recurring1', function (e) {
            debugger;

            e.preventDefault();

            if ($(this).valid()) {
                $(this).ajaxSubmit({
                    success: function (response) {


                    },
                    error: function (response) {

                    },
                    complete: function (xhr) {
                        onExactSuccess(xhr.responseJSON);

                    }
                });
            }
        });
         function ReSendNotification(Id, fname, lname) {
            debugger;
             if ($('.aapointment_Type').val('Exact')) {
                var appointmentData = $('#exactDate1').val();
                var date = moment(appointmentData).format('dddd, MMMM D Y')
                var time = $('#exactTime1').val();
            }
            else {
                 var appointmentData = $('#btwDate1').val();
                var date = moment(appointmentData).format('dddd, MMMM D Y')
                 var time = $('#btwSTime1').val();
            }
            docnotify = {
                UserId: Id, NotificationType: "Appointment", NotificationText: "Appointment", NotificationInfo: '@patientName rescheduled his/her appointment on ' + date + ' at ' + time + '.', UserRoleId: @roleId, CreatedBy:@currUserId }
            $.ajax({
                type: "POST",
                url: "/Notification/SaveNotification",
                data: docnotify,
                success: function (data) {
                    patnotify = { UserId: @currUserId, NotificationType: "Appointment", NotificationText: "Appointment", NotificationInfo: 'Your appointment is rescheduled on ' + date + ' at ' + time + ' with Dr. ' + fname + ' ' + lname + '.', UserRoleId: @roleId, CreatedBy:@currUserId }
                    $.ajax({
                        type: "POST",
                        url: "/Notification/SaveNotification",
                        data: patnotify,
                        success: function (data) {
                        }
                    });

                }
            });
        }
        /*Appointment Add*/
        $(document).on('submit', '#EaxctAppointHide', function (e) {
            debugger;
            var ProviderName = $('#Exactprovider_name').val();
            if (ProviderName == "") {
                $("#ExactPro_err").html("Select Provider Name");
            }
            else {
                $("#ExactPro_err").html("");
            }
            $("#providerInfo_Id").val(ProviderName);
            e.preventDefault();
            if ($(this).valid()) {
                if (!(ProviderName == "")) {
                    $(this).ajaxSubmit({
                        success: function (response) {
                            debugger;
                            StartConnection(parseInt(response.userId));
                            SendNotification(parseInt(response.userId), response.firstName, response.lastName);
                        },
                        error: function (response) {

                        },
                        complete: function (xhr) {
                            onExactSuccess(xhr.responseJSON);

                        }
                    });
                }


            }
        });
        $(document).on('submit', '#ExactRecurringForm', function (e) {
            var ProviderName = $('#Exactprovider_name').val();
            if (ProviderName == "") {
                $("#ExactPro_err").html("Select Provider Name");
            }
            else {
                $("#ExactPro_err").html("");
            }
            $("#ERecproviderInfo_Id").val(ProviderName);
            e.preventDefault();

            if ($(this).valid()) {
                if (!(ProviderName == "")) {
                    $(this).ajaxSubmit({
                        success: function (response) {
                            //StartConnection(parseInt(response.userId));
                            //SendNotification(parseInt(response.userId));
                        },
                        error: function (response) {

                        },
                        complete: function (xhr) {
                            onExactSuccess(xhr.responseJSON);

                        }
                    });
                }


            }
        });
        function SendNotification(Id, fname, lname) {
            debugger;
            if ($('#exact_checkbox').is(":checked")) {
                var appointmentData = $('#recSDate').val();
                var date = moment(appointmentData).format('dddd, MMMM D Y')
                var time = $('#patientAppointmentBasicDto_ExactTime').val();
            }
            else {
                var appointmentData = $('#patientAppointmentBasicDto_Date').val();
                var date = moment(appointmentData).format('dddd, MMMM D Y')
                var time = $('#patientAppointmentBasicDto_StartTime').val();
            }
            docnotify = {
                UserId: Id, NotificationType: "Appointment", NotificationText: "Appointment", NotificationInfo: '@patientName scheduled his/her appointment on ' + date + ' at ' + time + '.', UserRoleId: @roleId, CreatedBy:@currUserId }
            $.ajax({
                type: "POST",
                url: "/Notification/SaveNotification",
                data: docnotify,
                success: function (data) {
                    patnotify = { UserId: @currUserId, NotificationType: "Appointment", NotificationText: "Appointment", NotificationInfo: 'Your appointment is scheduled on ' + date + ' at ' + time + ' with Dr. ' + fname + ' ' + lname + '.', UserRoleId: @roleId, CreatedBy:@currUserId }
                    $.ajax({
                        type: "POST",
                        url: "/Notification/SaveNotification",
                        data: patnotify,
                        success: function (data) {
                        }
                    });

                }
            });
        }
                function StartConnection(id) {
            var appointmentData = $('#recSDate').val();
            var date = moment(appointmentData).format('dddd, MMMM D Y')
            var time = $('#patientAppointmentBasicDto_ExactTime').val();
             var connection = new signalR.HubConnectionBuilder()
                                .withUrl("/NotificationHub")
                                .configureLogging(signalR.LogLevel.Information)
                                .build();
                            connection.start().then(() => {
                                var userId = id;
                                var message = '@patientName scheduled his/her appointment on ' + date + ' at ' + time + '.';
                                connection.invoke("SendMessage", userId, message).catch(function (err) {
                                    return console.error(err.toString());
                                });
                            });
        }
        $(document).on('submit', '#InBetweenAppointment', function (e) {
            var ProviderName = $('#Exactprovider_name').val();
            if (ProviderName == "") {
                $("#ExactPro_err").html("Select Provider Name");
            }
            else {
                $("#ExactPro_err").html("");
            }
            $("#BtwproviderInfo_Id").val(ProviderName);
            e.preventDefault();

            if ($(this).valid()) {
                if (!(ProviderName == "")) {
                    $(this).ajaxSubmit({
                        success: function (response) {
                            StartConnection(parseInt(response.userId));
                            SendNotification(parseInt(response.userId), response.firstName, response.lastName);
                        },
                        error: function (response) {

                        },
                        complete: function (xhr) {
                            onExactSuccess(xhr.responseJSON);

                        }
                    });
                }


            }
        });
        $(document).on('submit', '#InBtwRecurringForm', function (e) {
            debugger;
            var ProviderName = $('#Exactprovider_name').val();
            if (ProviderName == "") {
                $("#ExactPro_err").html("Select Provider Name");
            }
            else {
                $("#ExactPro_err").html("");
            }
            $("#BtwRecproviderInfo_Id").val(ProviderName);

            e.preventDefault();

            if ($(this).valid()) {
                if (!(ProviderName == "")) {
                    $(this).ajaxSubmit({
                        success: function (response) {
                            //StartConnection(parseInt(response.userId));
                            //SendNotification(parseInt(response.userId));
                        },
                        error: function (response) {

                        },
                        complete: function (xhr) {
                            onExactSuccess(xhr.responseJSON);

                        }
                    });
                }


            }
        });
        function BulkExactCheck() {
            debugger;
            var check = $("#Bulkexact_checkbox").val();
            if (check == '0') {
                $("#BulkEaxctAppointHide").show();
                $("#BulkInBetweenAppointment").hide();
                $("#BulkInBtwRecurringForm").hide();
                $(".Bulkcancel_btn").hide();
                var check = $("#BulkERecCheck");
                if (check.is(':checked')) {
                    $("#BulkExactFormButton").hide();
                    $("#BulkxactRecurringForm").show();
                    $("#BulkERecRangeTimeText").show();
                    $("#BulkERecRangeTimeField").show();
                    $("#BulkERecPatternText").show();
                    $("#BulkERecPatternCheckBox").show();
                    $("#BulkERecPatternCheckBoxS").show();
                }
            }
            else {
                $("#BulkInBetweenAppointment").hide();
                $("#BulkEaxctAppointHide").hide();
                $(".Bulkcancel_btn").hide();
            }

        }
        function BulkBtwCheck() {
            debugger;
            var check2 = $("#Bulkbtw_checkbox");
            if (check2.is(':checked')) {
                $("#BulkInBetweenAppointment").show();
                $("#BulkEaxctAppointHide").hide();
                $("#BulkExactRecurringForm").show();
                $("#BulkERecRangeTimeText").show();
                $("#BulkERecRangeTimeField").show();
                $("#BulkERecPatternText").show();
                $("#BulkERecPatternCheckBox").show();
                $("#BulkERecPatternCheckBoxS").show();



            }
            else {
                $("#BulkInBetweenAppointment").show();
                $("#BulkEaxctAppointHide").hide();
                $(".Bulkcancel_btn").hide();
                $("#BulkExactRecurringForm").hide();
                $("#BulkERecRangeTimeText").hide();
                $("#BulkERecRangeTimeField").hide();
                $("#BulkERecPatternText").hide();
                $("#BulkBulkERecPatternCheckBox").hide();
                $("#ERecPatternCheckBoxS").hide();
                var check = $("#BulkERecCheck");
                if (check.is(':checked')) {
                    $("#BulkExactFormButton").hide();
                    $("#BulkExactRecurringForm").hide();
                    $("#BulkERecRangeTimeText").hide();
                    $("#BulkERecRangeTimeField").hide();
                    $("#BulkERecPatternText").hide();
                    $("#BulkERecPatternCheckBox").hide();
                    $("#BulkERecPatternCheckBoxS").hide();
                }
                var check = $("#BulkBRecCheck");
                if (check.is(':checked')) {
                    $("#BulkBtwFormButton").hide();
                    $("#BulkInBtwRecurringForm").show();
                    $("#BulkBRecRangeTimeText").show();
                    $("#BulkBRecRangeTimeField").show();
                    $("#BulkBRecPatternText").show();
                    $("#BulkBRecPatternCheckBox").show();
                    $("#BulkBRecPatternCheckBoxS").show();
                }
                //$("#ExactRecurringForm").hide();

                //$("#ERecCheck").trigger("click");
                //$("#ERecCheck").prop("checked", false);
            }
        }
        function BulkERecurrence() {
            debugger;
            var check = $("#BulkERecCheck");
            if (check.is(':checked')) {
                $("#BulkExactFormButton").hide();
                $("#BulkEaxctAppointfield").hide();
                $("#BulkExactRecurringForm").show();
                $("#BulkERecRangeTimeText").show();
                $("#BulkERecRangeTimeField").show();
                $("#BulkERecPatternText").show();
                $("#BulkERecPatternCheckBox").show();
                $("#BulkERecPatternCheckBoxS").show();
            }
            else {
                $("#BulkEaxctAppointfield").show();

                $("#BulkExactFormButton").show();
                $("#BulkExactRecurringForm").hide();

                $("#BulkERecRangeTimeText").hide();
                $("#BulkERecRangeTimeField").hide();
                $("#BulkERecPatternText").hide();
                $("#BulkERecPatternCheckBox").hide();
                $("#BulkERecPatternCheckBoxS").hide();
            }


        }
        function BulkBRecurrence() {
            debugger;
            var check = $("#BulkBRecCheck");
            if (check.is(':checked')) {
                $("#BulkBtwFormButton").hide();
                $("#BulkInBtwField").hide();
                $("#BulkInBtwRecurringForm").show();
                $("#BulkBRecRangeTimeText").show();
                $("#BulkBRecRangeTimeField").show();
                $("#BulkBRecPatternText").show();
                $("#BulkBRecPatternCheckBox").show();
                $("#BulkBRecPatternCheckBoxS").show();
            }
            else {
                $("#BulkInBtwField").show();

                $("#BulkBtwFormButton").show();
                $("#BulkInBtwRecurringForm").hide();
                $("#BulkBRecRangeTimeText").hide();
                $("#BulkBRecRangeTimeField").hide();
                $("#BulkBRecPatternText").hide();
                $("#BulkBRecPatternCheckBox").hide();
                $("#BulkBRecPatternCheckBoxS").hide();
            }


        }
        function ExactCheck() {
            debugger;
            var check = $("#exact_checkbox").val();
            if (check == '0') {
                $("#EaxctAppointHide").show();
                $("#InBetweenAppointment").hide();
                $("#InBtwRecurringForm").hide();
                $(".cancel_btn").hide();
                var check = $("#ERecCheck");
                if (check.is(':checked')) {
                    $("#ExactFormButton").hide();
                    $("#ExactRecurringForm").show();
                    $("#ERecRangeTimeText").show();
                    $("#ERecRangeTimeField").show();
                    $("#ERecPatternText").show();
                    $("#ERecPatternCheckBox").show();
                    $("#ERecPatternCheckBoxS").show();
                }
            }
            else {
                $("#InBetweenAppointment").hide();
                $("#EaxctAppointHide").hide();
                $(".cancel_btn").hide();
            }

        }
        function BtwCheck() {
            debugger;
            var check2 = $("#btw_checkbox");
            if (check2.is(':checked')) {
                $("#InBetweenAppointment").show();
                $("#EaxctAppointHide").hide();
                $("#ExactRecurringForm").show();
                $("#ERecRangeTimeText").show();
                $("#ERecRangeTimeField").show();
                $("#ERecPatternText").show();
                $("#ERecPatternCheckBox").show();
                $("#ERecPatternCheckBoxS").show();



            }
            else {
                $("#InBetweenAppointment").show();
                $("#EaxctAppointHide").hide();
                $(".cancel_btn").hide();
                $("#ExactRecurringForm").hide();
                $("#ERecRangeTimeText").hide();
                $("#ERecRangeTimeField").hide();
                $("#ERecPatternText").hide();
                $("#ERecPatternCheckBox").hide();
                $("#ERecPatternCheckBoxS").hide();
                var check = $("#ERecCheck");
                if (check.is(':checked')) {
                    $("#ExactFormButton").hide();
                    $("#ExactRecurringForm").hide();
                    $("#ERecRangeTimeText").hide();
                    $("#ERecRangeTimeField").hide();
                    $("#ERecPatternText").hide();
                    $("#ERecPatternCheckBox").hide();
                    $("#ERecPatternCheckBoxS").hide();
                }
                var check = $("#BRecCheck");
                if (check.is(':checked')) {
                    $("#BtwFormButton").hide();
                    $("#InBtwRecurringForm").show();
                    $("#BRecRangeTimeText").show();
                    $("#BRecRangeTimeField").show();
                    $("#BRecPatternText").show();
                    $("#BRecPatternCheckBox").show();
                    $("#BRecPatternCheckBoxS").show();
                }
                //$("#ExactRecurringForm").hide();

                //$("#ERecCheck").trigger("click");
                //$("#ERecCheck").prop("checked", false);
            }
        }
        function ERecurrence() {
            debugger;
            var check = $("#ERecCheck");
            if (check.is(':checked')) {
                $("#ExactFormButton").hide();
                $("#EaxctAppointfield").hide();
                $("#ExactRecurringForm").show();
                $("#ERecRangeTimeText").show();
                $("#ERecRangeTimeField").show();
                $("#ERecPatternText").show();
                $("#ERecPatternCheckBox").show();
                $("#ERecPatternCheckBoxS").show();
            }
            else {
                $("#EaxctAppointfield").show();

                $("#ExactFormButton").show();
                $("#ExactRecurringForm").hide();

                $("#ERecRangeTimeText").hide();
                $("#ERecRangeTimeField").hide();
                $("#ERecPatternText").hide();
                $("#ERecPatternCheckBox").hide();
                $("#ERecPatternCheckBoxS").hide();
            }


        }
        function BRecurrence() {
            debugger;
            var check = $("#BRecCheck");
            if (check.is(':checked')) {
                $("#BtwFormButton").hide();
                $("#InBtwField").hide();
                $("#InBtwRecurringForm").show();
                $("#BRecRangeTimeText").show();
                $("#BRecRangeTimeField").show();
                $("#BRecPatternText").show();
                $("#BRecPatternCheckBox").show();
                $("#BRecPatternCheckBoxS").show();
            }
            else {
                $("#InBtwField").show();

                $("#BtwFormButton").show();
                $("#InBtwRecurringForm").hide();
                $("#BRecRangeTimeText").hide();
                $("#BRecRangeTimeField").hide();
                $("#BRecPatternText").hide();
                $("#BRecPatternCheckBox").hide();
                $("#BRecPatternCheckBoxS").hide();
            }


        }
        function LoadAppointmentData(DocFilter) {
             $("#Doc-calendar").fullCalendar('removeEvents');//remove the old filtered events
                //filter based on the select value
                if (DocFilter == "All") {

                    $.ajax({
                    type: "GET",
                    url: '@Url.Action("GetCalendarsList", "Appointment")',
                    data: { Id : @patientInfoId},//get events
                        success: function (data) {
                            dropEvent = [];
                        $.each(data, function (i, v) {//for each event, I will compare the value with the filter, if true, render it.

                            if (v.patientInfoId == @patientInfoId) {
                                var Time;
                                var ETime;
                                if (v.appointmentType == "Exact") {
                                    Time = v.exactTime.split('T');
                                }
                                else {
                                    Time = v.startTime.split('T');
                                }
                                var DocPatName = "-Dr. " + v.docFirstName + " - " + v.patFirstName;
                                var provideName = "Dr. " + v.docFullName;

                                var Date = v.date.split('T');

                                if (v.appointmentType == "Exact") {
                                    ETime = '00:00:00'
                                }
                                else {
                                    ETime = v.endTime.split('T');
                                }
                                debugger;
                                $("#Doc-calendar").fullCalendar('renderEvent', {
                                    title: DocPatName,
                                    start: Date[0] + 'T' + Time[1],
                                    Name: v.appointmentType,
                                    appointId: v.appointmentId,
                                    providerName: provideName,
                                    endTime: Date[0] + "T" + ETime[1],
                                    patientId: v.patientInfoId,
                                    providerId: v.providerInfoId,
                                    ExactTime: Time[1],
                                    bSTime: Time[1],
                                    bETime: ETime[1]

                                }, true);
                            }
                        })
                    }
                });
                }
                else {
                   $.ajax({
                    type: "GET",
                    url: '@Url.Action("FilterByDocName", "Appointment")',
                    data: { DocId: DocFilter, PatId:@patientInfoId},//get events
                       success: function (data) {
                           dropEvent = [];
                        $.each(data, function (i, v) {
                            if (v.providerInfoId == DocFilter && v.patientInfoId == @patientInfoId) {
                                debugger;
                                var Time;
                                var ETime;
                                if (v.appointmentType == "Exact") {
                                    Time = v.exactTime.split('T');
                                }
                                else {
                                    Time = v.startTime.split('T');
                                }
                                var DocPatName = "-Dr. " + v.providerInfo.firstName + " - " + v.patientInfo.firstName;
                                var provideName = "Dr. " + v.providerInfo.firstName + " " + v.providerInfo.lastName;

                                var Date = v.date.split('T');

                                if (v.appointmentType == "Exact") {
                                    ETime = '00:00:00'
                                }
                                else {
                                    ETime = v.endTime.split('T');
                                }
                                appId = events.appointId;

                               var dropEvents = {
                                   title: DocPatName,
                                   start: Date[0] + 'T' + Time[1],
                                   Name: v.appointmentType,
                                   appointId: v.appointmentId,
                                   providerName: provideName,
                                   endTime: Date[0] + "T" + ETime[1],
                                   patientId: v.patientInfoId,
                                   providerId: v.providerInfoId,
                                   ExactTime: Time[1],
                                   bSTime: Time[1],
                                   bETime: ETime[1]
                                }
                                dropEvent.push({ dropEvents})
                                debugger;
                                $("#Doc-calendar").fullCalendar('renderEvent', dropEvents , true);

                            }
                        })
                    }
                });

                }
        }
        $(document).ready(function () {
            $(".createappbtn").click(function () {


                $('.app_empty').val("");
                $('.Bulkapp_empty').val("");
                $('.Bulkapp_empty').removeClass('valid');
                $('.app_empty').removeClass('valid');
                $("#exact_checkbox").prop('checked', false);
                $("#Btw_checkbox").prop('checked', false);
                $("#Bulkexact_checkbox").prop('checked', false);
                $("#BulkBtw_checkbox").prop('checked', false);
                $(".cancel_btn").show();
                $(".Bulkcancel_btn").show();
                $("#EaxctAppointHide").hide();
                $("#BulkEaxctAppointHide").hide();
                $("#InBetweenAppointment").hide();
                $("#BulkInBetweenAppointment").hide();
                var check = $("#ERecCheck");
                if (check.is(':checked')) {
                    $("#ERecCheck").trigger('click');
                }
                else {

                }
                var check = $("#BRecCheck");
                if (check.is(':checked')) {
                    $("#BRecCheck").trigger('click');}
                else {

                }
                $(".cancel_btn").show();
                $("#EaxctAppointHide").hide();
                $("#InBetweenAppointment").hide();
                $("#ExactRecurringForm").hide();
                $("#InBtwRecurringForm").hide();
                $("#Exactprovider_name").val('').trigger('change');
            });
            $('.timepicker').timepicker({
                twelveHour: false
            });
            $('#seleciona').change(function () {
                var DocFilter = $('#seleciona option:selected').val();
                LoadAppointmentData(DocFilter);


            });


            var table = $("#Appointment-table").DataTable({ "info": false, responsive: true, lengthMenu: [[7, 25, 50, -1], [7, 25, 50, "All"]], 'order': [], 'columnDefs': [{ "targets": [0], "orderable": false }] });

            var exist = $("#exist-appoint").html();

            $('select').formSelect();


            $("#exact2_form").hide();
            $("#inbetween2_from").hide();

            $("li.calendarheader").addClass("border-bottom-header-active");

        });

        function onExactSuccess(data) {
            var DocFilter = $('#seleciona option:selected').val();
            debugger;
            if (data != null) {
                if (DocFilter == "") {
                    if (data == "-4") {
                        new PNotify({
                            title: 'Error!',
                            text: "Can't booked slot for past time!",
                            delay: 2500,
                            type: 'error',
                            addclass: 'pnotify-center'
                        });
                        return;
                    }
                    $(".checkmark").show().fadeOut(6000);
                    $('.full-calendar').fullCalendar('removeEvents');

                    $("#AppointmentModal").modal('close');
                    $("#AppointmentUpdateModal").modal('close');
                    $('#Doc-calendar').fullCalendar('refetchEvents');
                    $(".text-input").val("");
                    $(".text-input").removeClass("valid");
                }
                else {
                    if (data == "-4") {
                        new PNotify({
                            title: 'Error!',
                            text: "Can't booked slot for past time!",
                            delay: 2500,
                            type: 'error',
                            addclass: 'pnotify-center'
                        });
                        return;
                    }

                    $(".checkmark").show().fadeOut(6000);
                    $('.full-calendar').fullCalendar('removeEvents');

                    $("#AppointmentModal").modal('close');
                    $("#AppointmentUpdateModal").modal('close');
                    //$('#Doc-calendar').fullCalendar('refetchEvents');
                    LoadAppointmentData(DocFilter);

                    $(".text-input").val("");
                    $(".text-input").removeClass("valid");
                }
            }
            else {
                new PNotify({
                    title: 'Error!',
                    text: 'Something went wrong',
                    delay: 2500,
                    type: 'error',
                    addclass: 'pnotify-center'
                });
            }
        }

    </script>
}
<svg class="checkmark" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"><circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none" /><path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8" /></svg>

<div id="breadcrumbs-wrapper">
    <!-- Search for small screen-->
    <div class="container">
        <div class="row">
            <div class="col s3 m2 l2">
                <h5 class="breadcrumbs-title color-blue">Appointments</h5>
            </div>
            <div class="col s9 m5 l5">

                <select id="seleciona" class="select2" data-placeholder="Search By Doctor Name"
                        asp-items="@(new SelectList(Model.ProviderList,"ProviderInfoId","FullName"))">
                    <option value="" selected disabled></option>
                    <option value="All">All</option>
                </select>
            </div>

            <div class="col s12 m5 l5">
                <a class="btn right add-btn createappbtn modal-trigger" href="#AppointmentModal">Add New Appointment</a>
            </div>
        </div>
    </div>
</div>
<div class="btn-div">
    <a class="btn add-btn sidenav-trigger right mr-2" id="button" href="javascript:void(0);" onclick="switchView()">Switch to list View</a>
</div>
<div class="container" id="calendar-hide">
    <div class="row">
        <div class="col s12">
            <div class="card calendar">
                <div class="card-content">
                    <h4 class="card-title color-blue">
                        Schedule Appointments
                    </h4>
                    <div id='Doc-calendar'></div>
                    <div id="loading">
                        <div class="bounce1"></div>
                        <div class="bounce2"></div>
                        <div class="bounce3"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div id="AppointmentModal" class="modal">
    <div class="modal-content">
        <h4>Add Appointment</h4>
        <hr />
        @*<div class="row">
            <div class="col s12 pl-0">
                <ul class="tabs Exam-tab">
                    <li class="tab"><a class="active" href="#test1">Single Appointment</a></li>
                    <li class="tab"><a href="#test2">Bulk Appointment</a></li>
                </ul>
            </div>
        </div>*@
        <div class="row" id="test1">
            <div class="col s12">
                <div class="row">
                    @*<div class="col s12 m6 pl-0">
                        <p>Select Session</p>

                        <select id="session" class="Modelselect2" data-placeholder="Select Session"
                                asp-items="@(new SelectList(Model.ProviderSessionTypeList,"ProviderSessionTypeId","ProviderSessionType"))">
                            <option value=""></option>
                        </select>
                        <span class="required" id="ExactPro_err"></span>
                    </div>*@
                    <div class="col s12 m6 pl-0">
                        <p>Provider Name <span class="required"> * </span></p>

                        <select id="Exactprovider_name" class="Modelselect2" asp-for="patientAppointmentBasicDto.ProviderInfoId"
                                asp-items="@(new SelectList(Model.ProviderList,"ProviderInfoId","FullName"))">
                            <option value=""></option>
                        </select>
                        <span class="required" id="ExactPro_err"></span>
                    </div>


                </div>
                <div class="row">
                    <div class="col m3 pl-0 input-field mt-2">
                        <h6>Appointment Type : </h6>
                    </div>
                    <div class="col m3 pl-0 input-field">
                        <label>
                            <input type="radio" name="AppCheckBox" id="exact_checkbox" class="with-gap" onclick="ExactCheck()" value="0" />
                            <span>Exact</span>
                        </label>
                    </div>
                    <div class="col m3 pl-0 input-field">
                        <label>
                            <input type="radio" name="AppCheckBox" id="Btw_checkbox" class="with-gap" onclick="BtwCheck()" />
                            <span>In Between</span>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 m12">
                        <a href="javascript:void(0);" class="modal-action modal-close cancel_btn Recreate ml-2 btn mt-2 right">Cancel</a>

                    </div>
                </div>
                <form asp-action="PatientAppointment" asp-controller="Appointment" method="post" id="EaxctAppointHide" style="display:none">
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.AppointmentId" />
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.PatientInfoId" />
                    <input hidden="hidden" id="providerInfo_Id" asp-for="patientAppointmentBasicDto.ProviderInfoId" />
                    <input asp-for="patientAppointmentBasicDto.AppointmentType" value="Exact" id="appointmentType" hidden="hidden" />
                    <div class="row">
                        <div class="col col s12 m6 pl-0">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" id="ERecCheck" onclick="ERecurrence()" class="filled-in checkFirst" />
                                    <span>Make it recursive</span>
                                </label>
                            </p>

                        </div>
                    </div>
                    <div class="row" id="EaxctAppointfield">
                        <div class="col s12 m6 pl-0">
                            <p>Date <span class="required"> * </span></p>
                            <input type="text" id="recSDate" asp-for="patientAppointmentBasicDto.Date" class="datepicker text-input app_empty" placeholder="Select Date">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.Date"></span>
                        </div>
                        <div class="col s12 m6">
                            <p>Time<span class="required"> * </span></p>
                            <input type="text" class=" time-picker text-input app_empty" asp-for="patientAppointmentBasicDto.ExactTime" placeholder="Select Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.ExactTime"></span>
                        </div>
                    </div>

                    <div class="row" id="ExactFormButton">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
                <form asp-action="ExactRecurringAppointment" asp-controller="Appointment" id="ExactRecurringForm" method="post" style="display:none">
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.AppointmentId" />
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.PatientInfoId" />
                    <input hidden="hidden" id="ERecproviderInfo_Id" asp-for="RecurringAppoinmentDto.ProviderInfoId" />
                    <input asp-for="RecurringAppoinmentDto.AppointmentType" value="Exact" hidden="hidden" />
                    <div class="row" style="display:none" id="ERecRangeTimeText">
                        <div class="col s12 m6 pl-0">
                            <h6>Range of Recurrence</h6>
                        </div>
                        <div class="col s12 m6">
                            <h6>Appointment Time</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="ERecRangeTimeField">
                        <div class="col s6 m3 pl-0">
                            <p>Start Date <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.Date" class=" sDate EinBtwSDate text-input Bulkapp_empty" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.Date"></span>
                        </div>
                        <div class="col s6 m3">
                            <p>End Date <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.EndDate" class=" eDate EinBtwEDate text-input Bulkapp_empty" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.EndDate"></span>
                        </div>
                        <div class="col s12 m6">
                            <p>Time <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.ExactTime" class="time-picker text-input Bulkapp_empty" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.ExactTime"></span>
                        </div>
                    </div>
                    <div class="row" id="ERecPatternText" style="display:none">
                        <div class="col s12 m6 pl-0 input-field">
                            <h6>Recurrence Pattern</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="ERecPatternCheckBox">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in checkFirst" asp-for="RecurringAppoinmentDto.IsMondayChecked" />
                                    <span>Monday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsTuesdayChecked" />
                                    <span>Tuesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsWednesdayChecked" />
                                    <span>Wednesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsThursdayChecked" />
                                    <span>Thursday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsFridayChecked" />
                                    <span>Friday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSaturdayChecked" />
                                    <span>Saturday</span>
                                </label>

                            </p>
                        </div>
                    </div>
                    <div class="row" id="ERecPatternCheckBoxS" style="display:none">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSundayChecked" />
                                    <span>Sunday</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
                <form asp-action="PatientAppointment" asp-controller="Appointment" method="post" id="InBetweenAppointment" style="display:none;">
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.AppointmentId" />
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.PatientInfoId" />
                    <input hidden="hidden" id="BtwproviderInfo_Id" asp-for="patientAppointmentBasicDto.ProviderInfoId" />
                    <input asp-for="patientAppointmentBasicDto.AppointmentType" value="In Between" hidden="hidden" />
                    <div class="row">
                        <div class="col col s12 m6 pl-0">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" id="BRecCheck" onclick="BRecurrence()" class="filled-in checkFirst" />
                                    <span>Make it recursive</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row" id="InBtwField">
                        <div class="col s6 m4 pl-0">
                            <p>Date <span class="required"> * </span></p>
                            <input type="text" class="datepicker text-input app_empty" asp-for="patientAppointmentBasicDto.Date" placeholder="Select Date">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.Date"></span>

                        </div>
                        <div class="col s6 m4">
                            <p>Start Time <span class="required"> * </span></p>
                            <input type="text" asp-for="patientAppointmentBasicDto.StartTime" class="time-picker text-input app_empty" placeholder="Select Start Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.StartTime"></span>
                        </div>
                        <div class="col s6 m4">
                            <p>End Time <span class="required"> * </span></p>
                            <input type="text" class="time-picker text-input app_empty" asp-for="patientAppointmentBasicDto.EndTime" placeholder="Select End Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.EndTime"></span>

                        </div>
                    </div>
                    <div class="row" id="BtwFormButton">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
                <form asp-action="RecurringAppointment" asp-controller="Appointment" method="post" id="InBtwRecurringForm" style="display:none">
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.AppointmentId" />
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.PatientInfoId" />
                    <input hidden="hidden" id="BtwRecproviderInfo_Id" asp-for="RecurringAppoinmentDto.ProviderInfoId" />
                    <input asp-for="RecurringAppoinmentDto.AppointmentType" value="In Between" hidden="hidden" />
                    <div class="row" style="display:none" id="BRecRangeTimeText">
                        <div class="col s12 m6 pl-0">
                            <h6>Range of Recurrence</h6>
                        </div>
                        <div class="col s12 m6">
                            <h6>Appointment Time</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="BRecRangeTimeField">
                        <div class="col s6 m3 pl-0">
                            <p>Start Date <span class="required"> * </span></p>
                            <input type="text" id="inBtwSDate" asp-for="RecurringAppoinmentDto.Date" class="bsDate app_empty inBtwSDate text-input" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.Date"></span>
                        </div>
                        <div class="col s6 m3">
                            <p>End Date <span class="required"> * </span></p>
                            <input type="text" id="inBtwEDate" asp-for="RecurringAppoinmentDto.EndDate" class="beDate app_empty inBtwEDate text-input" placeholder="Select End Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.EndDate"></span>
                        </div>
                        <div class="col s6 m3">
                            <p>Start Time <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.StartTime" class="time-picker text-input app_empty" placeholder="Select Start Time">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.StartTime"></span>

                        </div>
                        <div class="col s6 m3">
                            <p>End Time <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.EndTime" class="time-picker text-input app_empty" placeholder="Select End Time">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.EndTime"></span>

                        </div>
                    </div>
                    <div class="row" id="BRecPatternText" style="display:none">
                        <div class="col s12 m6 pl-0 input-field">
                            <h6>Recurrence Pattern</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="BRecPatternCheckBox">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in checkFirst" asp-for="RecurringAppoinmentDto.IsMondayChecked" />
                                    <span>Monday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsTuesdayChecked" />
                                    <span>Tuesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsWednesdayChecked" />
                                    <span>Wednesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsThursdayChecked" />
                                    <span>Thursday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsFridayChecked" />
                                    <span>Friday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSaturdayChecked" />
                                    <span>Saturday</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row" id="BRecPatternCheckBoxS" style="display:none">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSundayChecked" />
                                    <span>Sunday</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
            </div>
        </div>
        @*<div class="row" id="test2">
            <div class="col s12">
                <div class="row">
                    <div class="col s12 m6 pl-0">
                        <p>Provider Name <span class="required"> * </span></p>

                        <select class="Modelselect2" asp-for="patientAppointmentBasicDto.ProviderInfoId"
                                asp-items="@(new SelectList(Model.ProviderList,"ProviderInfoId","FullName"))">
                            <option value=""></option>
                        </select>
                        <span class="required" id="ExactPro_err"></span>
                    </div>
                    <div class="row">
                        <div class="col s12 m6">
                            <p>Patient Name <span class="required"> * </span></p>
                            <select class="Modelselect2" data-placeholder="Select Patient Name"
                                    asp-items="@(new SelectList(Model.patientListWithUsers,"PatientInfoId","FullName"))">
                                <option value="" selected disabled></option>

                            </select>
                        </div>
                    </div>

                </div>
                <div class="row">
                    <div class="col m3 pl-0 input-field mt-2">
                        <h6>Appointment Type : </h6>
                    </div>
                    <div class="col m3 pl-0 input-field">
                        <label>
                            <input type="radio" name="AppCheckBox" id="Bulkexact_checkbox" class="with-gap" onclick="BulkExactCheck()" value="0" />
                            <span>Exact</span>
                        </label>
                    </div>
                    <div class="col m3 pl-0 input-field">
                        <label>
                            <input type="radio" name="AppCheckBox" id="BulkBtw_checkbox" class="with-gap" onclick="BulkBtwCheck()" />
                            <span>In Between</span>
                        </label>
                    </div>
                </div>
                <div class="row">
                    <div class="col s12 m12">
                        <a href="javascript:void(0);" class="modal-action modal-close Bulkcancel_btn Recreate ml-2 btn mt-2 right">Cancel</a>

                    </div>
                </div>
                <form asp-action="PatientAppointment" asp-controller="Appointment" method="post" id="BulkEaxctAppointHide" style="display:none">
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.AppointmentId" />
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.PatientInfoId" />
                    <input hidden="hidden" id="providerInfo_Id" asp-for="patientAppointmentBasicDto.ProviderInfoId" />
                    <input asp-for="patientAppointmentBasicDto.AppointmentType" value="Exact" id="appointmentType" hidden="hidden" />
                    <div class="row">
                        <div class="col col s12 m6 pl-0">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" id="BulkERecCheck" onclick="BulkERecurrence()" class="filled-in checkFirst" />
                                    <span>Make it recursive</span>
                                </label>
                            </p>

                        </div>
                    </div>
                    <div class="row" id="BulkEaxctAppointfield">
                        <div class="col s12 m6 pl-0">
                            <p>Date <span class="required"> * </span></p>
                            <input type="text" id="BulkrecSDate" asp-for="patientAppointmentBasicDto.Date" class="datepicker text-input Bulkapp_empty" placeholder="Select Date">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.Date"></span>
                        </div>
                        <div class="col s12 m6">
                            <p>Time<span class="required"> * </span></p>
                            <input type="text" class=" time-picker text-input Bulkapp_empty" asp-for="patientAppointmentBasicDto.ExactTime" placeholder="Select Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.ExactTime"></span>
                        </div>
                    </div>

                    <div class="row" id="BulkExactFormButton">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
                <form asp-action="ExactRecurringAppointment" asp-controller="Appointment" id="BulkExactRecurringForm" method="post" style="display:none">
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.AppointmentId" />
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.PatientInfoId" />
                    <input hidden="hidden" id="ERecproviderInfo_Id" asp-for="RecurringAppoinmentDto.ProviderInfoId" />
                    <input asp-for="RecurringAppoinmentDto.AppointmentType" value="Exact" hidden="hidden" />
                    <div class="row" style="display:none" id="ERecRangeTimeText">
                        <div class="col s12 m6 pl-0">
                            <h6>Range of Recurrence</h6>
                        </div>
                        <div class="col s12 m6">
                            <h6>Appointment Time</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="BulkERecRangeTimeField">
                        <div class="col s6 m3 pl-0">
                            <p>Start Date <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.Date" class=" sDate EinBtwSDate text-input Bulkapp_empty" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.Date"></span>
                        </div>
                        <div class="col s6 m3">
                            <p>End Date <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.EndDate" class=" eDate EinBtwEDate text-input Bulkapp_empty" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.EndDate"></span>
                        </div>
                        <div class="col s12 m6">
                            <p>Time <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.ExactTime" class="time-picker text-input Bulkapp_empty" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.ExactTime"></span>
                        </div>
                    </div>
                    <div class="row" id="BulkERecPatternText" style="display:none">
                        <div class="col s12 m6 pl-0 input-field">
                            <h6>Recurrence Pattern</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="BulkERecPatternCheckBox">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in checkFirst" asp-for="RecurringAppoinmentDto.IsMondayChecked" />
                                    <span>Monday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsTuesdayChecked" />
                                    <span>Tuesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsWednesdayChecked" />
                                    <span>Wednesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsThursdayChecked" />
                                    <span>Thursday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsFridayChecked" />
                                    <span>Friday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSaturdayChecked" />
                                    <span>Saturday</span>
                                </label>

                            </p>
                        </div>
                    </div>
                    <div class="row" id="BulkERecPatternCheckBoxS" style="display:none">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSundayChecked" />
                                    <span>Sunday</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
                <form asp-action="PatientAppointment" asp-controller="Appointment" method="post" id="BulkInBetweenAppointment" style="display:none;">
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.AppointmentId" />
                    <input hidden="hidden" asp-for="patientAppointmentBasicDto.PatientInfoId" />
                    <input hidden="hidden" id="BtwproviderInfo_Id" asp-for="patientAppointmentBasicDto.ProviderInfoId" />
                    <input asp-for="patientAppointmentBasicDto.AppointmentType" value="In Between" hidden="hidden" />
                    <div class="row">
                        <div class="col col s12 m6 pl-0">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" id="BulkBRecCheck" onclick="BulkBRecurrence()" class="filled-in checkFirst" />
                                    <span>Make it recursive</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row" id="BulkInBtwField">
                        <div class="col s6 m4 pl-0">
                            <p>Date <span class="required"> * </span></p>
                            <input type="text" class="datepicker text-input Bulkapp_empty" asp-for="patientAppointmentBasicDto.Date" placeholder="Select Date">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.Date"></span>

                        </div>
                        <div class="col s6 m4">
                            <p>Start Time <span class="required"> * </span></p>
                            <input type="text" asp-for="patientAppointmentBasicDto.StartTime" class="time-picker text-input Bulkapp_empty" placeholder="Select Start Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.StartTime"></span>
                        </div>
                        <div class="col s6 m4">
                            <p>End Time <span class="required"> * </span></p>
                            <input type="text" class="time-picker text-input Bulkapp_empty" asp-for="patientAppointmentBasicDto.EndTime" placeholder="Select End Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.EndTime"></span>

                        </div>
                    </div>
                    <div class="row" id="BulkBtwFormButton">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
                <form asp-action="RecurringAppointment" asp-controller="Appointment" method="post" id="BulkInBtwRecurringForm" style="display:none">
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.AppointmentId" />
                    <input hidden="hidden" asp-for="RecurringAppoinmentDto.PatientInfoId" />
                    <input hidden="hidden" id="BtwRecproviderInfo_Id" asp-for="RecurringAppoinmentDto.ProviderInfoId" />
                    <input asp-for="RecurringAppoinmentDto.AppointmentType" value="In Between" hidden="hidden" />
                    <div class="row" style="display:none" id="BulkBRecRangeTimeText">
                        <div class="col s12 m6 pl-0">
                            <h6>Range of Recurrence</h6>
                        </div>
                        <div class="col s12 m6">
                            <h6>Appointment Time</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="BulkBRecRangeTimeField">
                        <div class="col s6 m3 pl-0">
                            <p>Start Date <span class="required"> * </span></p>
                            <input type="text" id="BulkinBtwSDate" asp-for="RecurringAppoinmentDto.Date" class="bsDate Bulkapp_empty inBtwSDate text-input" placeholder="Select Start Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.Date"></span>
                        </div>
                        <div class="col s6 m3">
                            <p>End Date <span class="required"> * </span></p>
                            <input type="text" id="BulkinBtwEDate" asp-for="RecurringAppoinmentDto.EndDate" class="beDate Bulkapp_empty inBtwEDate text-input" placeholder="Select End Date">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.EndDate"></span>
                        </div>
                        <div class="col s6 m3">
                            <p>Start Time <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.StartTime" class="time-picker text-input Bulkapp_empty" placeholder="Select Start Time">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.StartTime"></span>

                        </div>
                        <div class="col s6 m3">
                            <p>End Time <span class="required"> * </span></p>
                            <input type="text" asp-for="RecurringAppoinmentDto.EndTime" class="time-picker text-input Bulkapp_empty" placeholder="Select End Time">
                            <span class="required" asp-validation-for="RecurringAppoinmentDto.EndTime"></span>

                        </div>
                    </div>
                    <div class="row" id="BulkBRecPatternText" style="display:none">
                        <div class="col s12 m6 pl-0 input-field">
                            <h6>Recurrence Pattern</h6>
                        </div>
                    </div>
                    <div class="row" style="display:none" id="BulkBRecPatternCheckBox">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in checkFirst" asp-for="RecurringAppoinmentDto.IsMondayChecked" />
                                    <span>Monday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsTuesdayChecked" />
                                    <span>Tuesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsWednesdayChecked" />
                                    <span>Wednesday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsThursdayChecked" />
                                    <span>Thursday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsFridayChecked" />
                                    <span>Friday</span>
                                </label>
                            </p>
                        </div>
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSaturdayChecked" />
                                    <span>Saturday</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row" id="BulkBRecPatternCheckBoxS" style="display:none">
                        <div class="col s2 m2">
                            <p class="check-btn">
                                <label>
                                    <input type="checkbox" class="filled-in" asp-for="RecurringAppoinmentDto.IsSundayChecked" />
                                    <span>Sunday</span>
                                </label>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                        <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                    </div>
                </form>
            </div>
        </div>*@
    </div>

</div>
<div id="AppointmentUpdateModal" class="modal">
    <div class="modal-content">
        <h4>Update Appointment</h4>
        <div class="row">
            <div class="col m12">
                <form id="exist-appoint1" asp-action="PatientAppointment" asp-controller="Appointment" method="post" style="display:none">
                    <input hidden="hidden" id="appointment_Id" asp-for="patientAppointmentBasicDto.AppointmentId" />
                    <input hidden="hidden" id="patientInfo_Id" asp-for="patientAppointmentBasicDto.PatientInfoId" />
                    <input hidden="hidden" id="recursion_no" asp-for="patientAppointmentBasicDto.RecursionNo" />
                    <input asp-for="patientAppointmentBasicDto.AppointmentType" class="aapointment_Type" value="Exact" id="appointmentType1" hidden="hidden" />
                    <div class="row">
                        <div class="col s12 m6 pl-0">
                            <p>Provider Name <span class="required"> * </span></p>
                            <select id="provider_name" class="select2" asp-for="patientAppointmentBasicDto.ProviderInfoId"
                                    asp-items="@(new SelectList(Model.ProviderList,"ProviderInfoId","FullName"))">
                                <option></option> 
                            </select>
                            <span class="required" id="combobox_ExaminerErr"></span>
                        </div>
                        <div class="col s12 m6">
                            <p>Date <span class="required"> * </span></p>
                            <input type="text" id="exactDate1" asp-for="patientAppointmentBasicDto.Date" class="datepicker text-input" placeholder="Select Date">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.Date"></span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m6 pl-0">
                            <p>Exact Time <span class="required"> * </span></p>
                            <input type="text" id="exactTime1" class="timepicker text-input" asp-for="patientAppointmentBasicDto.ExactTime" placeholder="Select Exact Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.ExactTime"></span>
                        </div>
                    </div>
                    <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                    <a href="javascript:void(0);" class="right DeleteappointBtn modal-action ml-2 mt-2 btn Recreate ">Delete</a>

                    <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                </form>
                <form id="frame-appoint1" asp-action="PatientAppointment" asp-controller="Appointment" method="post" style="display:none">
                    <input hidden="hidden" id="appointment_Id2" asp-for="patientAppointmentBasicDto.AppointmentId" />
                    <input hidden="hidden" id="patientInfo_Id2" asp-for="patientAppointmentBasicDto.PatientInfoId" />
                    <input hidden="hidden" id="recursion_no2" asp-for="patientAppointmentBasicDto.RecursionNo" />

                    <input asp-for="patientAppointmentBasicDto.AppointmentType" class="aapointment_Type" value="In Between" id="appointmentType2" hidden="hidden" />
                    <div class="row">
                        <div class="col s12 m6 pl-0">
                            <p>Provider Name</p>
                            <select id="btnProvider" class="select2" asp-for="patientAppointmentBasicDto.ProviderInfoId"
                                    asp-items="@(new SelectList(Model.ProviderList,"ProviderInfoId","FullName"))">
                                <option></option>
                            </select>
                            <span class="required" id="combobox_ExaminerErr"></span>
                        </div>
                        <div class="col s12 m6">
                            <p>Date <span class="required"> * </span></p>
                            <input type="text" id="btwDate1" asp-for="patientAppointmentBasicDto.Date" class="datepicker text-input" placeholder="Select Date">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.Date"></span>

                        </div>
                    </div>
                    <div class="row">
                        <div class="col s12 m6 pl-0">
                            <p>Start Time <span class="required"> * </span></p>
                            <input type="text" id="btwSTime1" class="time-picker text-input" asp-for="patientAppointmentBasicDto.StartTime" placeholder="Select Start Time">
                            <span class="required" asp-validation-for="patientAppointmentBasicDto.StartTime"></span>

                        </div>

                        <div class="col s12 m6">
                            <p>End Time </p>
                            <input type="text" id="btwETime1" class="time-picker text-input" asp-for="patientAppointmentBasicDto.EndTime" placeholder="Select End Time">
                        </div>
                    </div>
                    <a href="javascript:void(0);" class="modal-action modal-close Recreate ml-2 btn mt-2 right">Cancel</a>
                    <a href="javascript:void(0);" class="right DeleteappointBtn modal-action ml-2 mt-2 btn Recreate ">Delete</a>

                    <button type="submit" class="modal-action btn mt-2 add-btn right">Save</button>
                </form>
            </div>
        </div>

    </div>
</div>
<div id="modal1" class="modal display_modal">
    <div class="modal-content">
        <h5>Appointment Schedule</h5>
        <input id="AppointId" hidden="hidden" />
        <hr />
        <div class="row">
            <div class="col s12 m6 pl-0" id="Date_show">
                <h6>Provider Name : <span id="provider"></span></h6>
            </div>
            <div class="col s12 m6 pl-0" id="Date_show">
                <h6>Date : <span id="start_date"></span></h6>
            </div>

            <div class="col s6 m12 pl-0 mt-2" id="ExactTime_show">
                <span style="font-size:18px;">Your Appointment With <b style="border-bottom: 1px solid" id="provider"></b> is at <b style="border-bottom:1px solid" id="Exact_Time"></b>. Please Make Sure Your Schedule Time.</span>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col m12">
                <a href="javascript:void(0);" class="right modal-close modal-action btn Recreate ml-2">Cancel</a>

                <a href="javascript:void(0);" class="right DeleteappointBtn modal-action btn Recreate ">Delete</a>

                <a href="javascript:void(0);" class="right modal-close modal-action EditAppointment modal-close add-btn  btn mr-2">Update</a>

            </div>
        </div>
    </div>

</div>
<div id="modal2" class="modal display_modal">
    <div class="modal-content">
        <h5>Appointment Schedule</h5>
        <input id="AppointId" hidden="hidden" />
        <hr />
        <div class="row">
            <div class="col s6 m6 pl-0" id="Date_show2">
                <h6>Provider Name : <span id="provider_2"></span></h6>

            </div>
            <div class="col s6 m6 pl-0" id="Date_show2">
                <h6>Date : <span id="start_date2"></span></h6>

            </div>
            <div class="col s12 m12 pl-0 mt-2" id="StartTime_show">
                <span style="font-size:18px;">Your Appointment With <b style="border-bottom: 1px solid" id="provider_2"></b> in Between <b style="border-bottom:1px solid" id="start_time2"></b> To <b style="border-bottom:1px solid" id="end_time2"></b> Time. Please Make Sure Your Schedule Time.</span>

            </div>

        </div>
        <div class="row mt-5">
            <div class="col m12">
                <a href="javascript:void(0);" class="right modal-close modal-action btn Recreate ml-2">Cancel</a>

                <a href="javascript:void(0);" class="right modal-action DeleteappointBtn  btn Recreate ">Delete</a>

                <a href="javascript:void(0);" class="right modal-close  modal-action EditAppointment add-btn  btn mr-2">Update</a>

            </div>
        </div>

    </div>

</div>
<div class="row" id="list-hide" style="display:none">
    <div id="batch_action">
        <div class="container">
            <div class="row">

                <div class="col s9 m9 l9">
                    <a class='dropdown-trigger dropdown-select float-left' href='javascript:void(0);' data-target='dropdown5'>Batch Action<i class="material-icons right select-drop-icon">keyboard_arrow_down</i></a>
                    <ul id='dropdown5' class='dropdown-content dropbody'>
                        <li><a href="javascript:void(0);">Option 1</a></li>
                        <li><a href="javascript:void(0);">Option 2</a></li>
                    </ul>

                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col m12">
            <div class="container">


                <table id="Appointment-table" class="display table-option">
                    <thead>
                        <tr class="uppercase">
                            <th>
                                <label>
                                    <input type="checkbox" class="select-all" />
                                    <span></span>
                                </label>
                            </th>
                            <th>Provider Name</th>
                            <th>Appointment Date</th>
                            <th>Appointment Time</th>
                            <th data-orderable="false" class="all">Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        @if (Model.patientAppointmentBasicsList != null)
                        {
                            foreach (var item in Model.patientAppointmentBasicsList)
                            {
                                <tr class="card">
                                    <th class="action">
                                        <label>
                                            <input type="checkbox" />
                                            <span></span>
                                        </label>
                                    </th>
                                    <td>Dr. @item.DocFullName </td>
                                    @if (item.Date != null)
                                    {
                                        <td>@DateTime.Today.ToString(SystemFormat.DateFormat())</td>
                                    }
                                    else
                                    {
                                        <td>@item.Date.Value.ToString(SystemFormat.DateFormat())</td>
                                    }
                                    @if (item.AppointmentType == "Exact")
                                    {
                                        <td>@item.ExactTime.Value.ToString(SystemFormat.TimeFormat())</td>
                                    }
                                    else
                                    {
                                        @*<td>@item.StartTime.Value.ToString(SystemFormat.TimeFormat())</td>*@
                                    }
                                    <td class="action">
                                        <a class='dropdown-trigger btn action-btn option-dropdown-btn' href='javascript:void(0);' data-target='dropdown+@item.AppointmentId'>Options <i class="material-icons right arrow-set">keyboard_arrow_down</i></a>
                                        <ul id='dropdown+@item.AppointmentId' class='dropdown-content'>
                                            <li><a href="javascript:void(0);" class="option-a"><i class="material-icons">remove_red_eye</i>View</a></li>
                                            <li onclick="Editappointment(@item.AppointmentId)"><a href="javascript:void(0);" class="option-a"><i class="material-icons">edit</i>Edit</a></li>
                                            <li onclick="deleteappointment(@item.AppointmentId, this);"><a href="javascript:void(0);" class="option-a"><i class="material-icons">delete</i>Delete</a></li>

                                        </ul>
                                    </td>
                                </tr>
                            }
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>

</div>
